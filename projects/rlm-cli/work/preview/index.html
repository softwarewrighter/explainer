<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>RLM CLI Video Preview</title>
    <style>
        * { box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #1a1a2e;
            color: #ffffff;
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }
        h1 { color: #bd93f9; border-bottom: 2px solid #bd93f9; padding-bottom: 10px; }
        h2 { color: #8be9fd; margin-top: 40px; }
        .final-video {
            background: linear-gradient(135deg, #1a1a2e, #2d1f3d);
            border: 2px solid #bd93f9;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
        }
        .final-video h2 { margin-top: 0; color: #bd93f9; }
        .final-video video { width: 100%; max-width: 960px; }
        .segment {
            border-left: 3px solid #bd93f9;
            padding-left: 15px;
            margin: 20px 0;
            background: #2a2a4e;
            padding: 15px;
            border-radius: 0 10px 10px 0;
        }
        .segment h4 { color: #50fa7b; margin: 0 0 10px 0; }
        .status {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 15px;
            font-size: 12px;
            margin-left: 10px;
        }
        .done { background: #50fa7b; color: #000; }
        .pending { background: #555; color: #fff; }
        .progress { background: #ffb86c; color: #000; }
        .error { background: #ff5555; color: #fff; }
        video { max-width: 100%; border-radius: 5px; background: #000; }
        audio { width: 100%; margin-top: 10px; }
        img.preview { max-width: 400px; border-radius: 5px; }
        img.still { max-width: 600px; border-radius: 5px; margin: 5px; }
        .path {
            font-family: monospace;
            font-size: 11px;
            color: #666;
        }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #333; }
        th { color: #bd93f9; }
        .narration {
            font-style: italic;
            color: #aaa;
            font-size: 14px;
            background: #111;
            padding: 10px;
            border-radius: 5px;
            margin-top: 10px;
        }
        .music { color: #ff79c6; }
        .duration { color: #50fa7b; font-weight: bold; }
        .waiting { color: #6272a4; font-style: italic; }
        .warning { color: #ffb86c; background: #3d2a1a; padding: 10px; border-radius: 5px; margin: 10px 0; }
        .stills-grid { display: flex; flex-wrap: wrap; gap: 10px; margin: 15px 0; }
    </style>
</head>
<body>
    <h1>RLM CLI Explainer - Video Preview</h1>
    <p>Level 3 native execution - Rust CLI tools without sandboxing.</p>

    <div class="final-video">
        <h2>Final Assembled Video</h2>
        <p class="waiting">In progress - title (5s), hook (14.7s), intro (19.9s), L3 demo 1 (33s), percentiles intro (19.3s), and L3 demo 2 (38s) ready. Total: ~130s. Visualizer demo and remaining SVGs pending.</p>
        <video controls><source src="clips/00-title.mp4" type="video/mp4"></video>
    </div>

    <h2>Production Status</h2>
    <table>
        <tr><th>Phase</th><th>Status</th><th>Items</th></tr>
        <tr><td>Title Card</td><td><span class="status done">Done</span></td><td>5s with music</td></tr>
        <tr><td>Hook</td><td><span class="status done">Done</span></td><td>14.7s avatar + narration</td></tr>
        <tr><td>L3 Intro</td><td><span class="status done">Done</span></td><td>19.9s SVG + narration</td></tr>
        <tr><td>L3 Demo 1 (Error Ranking)</td><td><span class="status done">Done</span></td><td>3 narrated clips (33s total)</td></tr>
        <tr><td>L3 Demo 2 Intro (Percentiles)</td><td><span class="status done">Done</span></td><td>19.3s SVG + narration</td></tr>
        <tr><td>L3 Demo 2 (Percentiles)</td><td><span class="status done">Done</span></td><td>3 narrated clips (38s total)</td></tr>
        <tr><td>Visualizer Intro</td><td><span class="status pending">Pending</span></td><td>SVG + narration needed</td></tr>
        <tr><td>Visualizer Demo</td><td><span class="status pending">Pending</span></td><td>OBS recording needed</td></tr>
        <tr><td>Comparison</td><td><span class="status pending">Pending</span></td><td>SVG + narration needed</td></tr>
        <tr><td>CTA</td><td><span class="status pending">Pending</span></td><td>SVG + narration needed</td></tr>
        <tr><td>Epilog</td><td><span class="status done">Done</span></td><td>12.8s standard epilog</td></tr>
        <tr><td>Epilog Extension</td><td><span class="status done">Done</span></td><td>5s music outro</td></tr>
    </table>

    <h2>Video Segments</h2>

    <div class="segment">
        <h4>00-title - Title Card <span class="status done">5.00s</span></h4>
        <p class="path">clips/00-title.mp4</p>
        <video controls><source src="clips/00-title.mp4" type="video/mp4"></video>
        <div class="narration music">Music: Two Gong Fire - Ryan McCaffrey / Go By Ocean</div>
        <p>Title image:</p>
        <img class="preview" src="images/rlm-rust-cli.jpg" alt="RLM CLI Title">
    </div>

    <div class="segment">
        <h4>01-hook - Hook with Avatar <span class="status done">14.70s</span></h4>
        <p class="path">clips/01-hook-composited.mp4</p>
        <video controls><source src="clips/01-hook-composited.mp4" type="video/mp4"></video>
        <div class="narration">What happens when your data outgrows the sandbox. Five thousand lines would timeout in web assembly. But with native Rust, there are no limits. Level three breaks free and runs at full speed.</div>
        <p>SVG slide:</p>
        <img class="preview" src="svg/01-hook.svg" alt="Hook SVG">
        <p>Audio:</p>
        <audio controls><source src="audio/01-hook.wav" type="audio/wav"></audio>
    </div>

    <div class="segment">
        <h4>02-intro-l3 - L3 Overview <span class="status done">19.90s</span></h4>
        <p class="path">clips/02-intro-l3.mp4</p>
        <video controls><source src="clips/02-intro-l3.mp4" type="video/mp4"></video>
        <div class="narration">Level three uses native Rust binaries for tasks that need more power. When datasets grow beyond a thousand lines, the web assembly sandbox can time out. Level three compiles and runs real code with no fuel limits.</div>
        <p>SVG slide:</p>
        <img class="preview" src="svg/02-intro-l3.svg" alt="L3 Intro SVG">
        <p>Audio:</p>
        <audio controls><source src="audio/02-intro-l3.wav" type="audio/wav"></audio>
    </div>

    <div class="segment">
        <h4>03-demo-cli - L3 Script Demo <span class="status done">32.96s (3 clips)</span></h4>
        <p>L1+L3 hybrid approach: L1 DSL filtered 5000 lines to ~715 ERROR lines, L3 CLI counted and ranked error types with HashMap. 96% token savings.</p>

        <h5 style="color: #ff79c6; margin-top: 20px;">03a - Demo Setup (11.2s)</h5>
        <p class="path">clips/03a-demo-setup.mp4</p>
        <div class="narration">The demo loads five thousand log lines. L1 filters to just the error entries, reducing the dataset to seven hundred lines.</div>
        <p>Audio:</p>
        <audio controls><source src="audio/03a-demo-setup.wav" type="audio/wav"></audio>
        <p>Video with narration:</p>
        <video controls><source src="clips/03a-demo-setup.mp4" type="video/mp4"></video>

        <h5 style="color: #ff79c6; margin-top: 20px;">03b - Demo Processing (10.9s)</h5>
        <p class="path">clips/03b-demo-processing.mp4</p>
        <div class="narration">The model generates Rust code using a hash map. The compiled binary processes all error lines in milliseconds.</div>
        <p>Audio:</p>
        <audio controls><source src="audio/03b-demo-processing.wav" type="audio/wav"></audio>
        <p>Video with narration:</p>
        <video controls><source src="clips/03b-demo-processing.mp4" type="video/mp4"></video>

        <h5 style="color: #ff79c6; margin-top: 20px;">03c - Demo Results (10.8s)</h5>
        <p class="path">clips/03c-demo-results.mp4</p>
        <div class="narration">Results show error types ranked by frequency. Two iterations, ninety six percent token savings compared to sending all lines directly.</div>
        <p>Audio:</p>
        <audio controls><source src="audio/03c-demo-results.wav" type="audio/wav"></audio>
        <p>Video with narration:</p>
        <video controls><source src="clips/03c-demo-results.mp4" type="video/mp4"></video>

        <h5 style="color: #6272a4; margin-top: 20px;">Full Recording (reference)</h5>
        <p class="path">vhs/l3-error-ranking.mp4 (86.04s)</p>
        <video controls style="max-width: 600px;"><source src="vhs/l3-error-ranking.mp4" type="video/mp4"></video>
        <p class="path">172 stills extracted to vhs/stills/</p>
    </div>

    <div class="segment">
        <h4>04-intro-percentiles - Percentiles Demo Intro <span class="status done">19.30s</span></h4>
        <p class="path">clips/04-intro-percentiles.mp4</p>
        <video controls><source src="clips/04-intro-percentiles.mp4" type="video/mp4"></video>
        <div class="narration">This demo analyzes two thousand response times to find the p50, p95, and p99 percentiles. L1 extracts the millisecond values with regex. L3 sorts them and calculates the statistics.</div>
        <p>SVG slide:</p>
        <img class="preview" src="svg/04-intro-percentiles.svg" alt="Percentiles Intro SVG">
        <p>Audio:</p>
        <audio controls><source src="audio/04-intro-percentiles.wav" type="audio/wav"></audio>
    </div>

    <div class="segment">
        <h4>05-demo-percentiles - Percentiles Script Demo <span class="status done">38.40s (3 clips)</span></h4>
        <p>L1+L3 hybrid approach: L1 regex extracts millisecond values from 2000 response times, L3 CLI sorts and computes p50/p95/p99 percentiles. 68% token savings.</p>

        <h5 style="color: #ff79c6; margin-top: 20px;">05a - Demo Setup (11.2s)</h5>
        <p class="path">clips/05a-percentiles-setup.mp4</p>
        <div class="narration">Two thousand response times loaded. The query asks for the fiftieth, ninety fifth, and ninety ninth percentile values.</div>
        <p>Audio:</p>
        <audio controls><source src="audio/05a-percentiles-setup.wav" type="audio/wav"></audio>
        <p>Video with narration:</p>
        <video controls><source src="clips/05a-percentiles-setup.mp4" type="video/mp4"></video>

        <h5 style="color: #ff79c6; margin-top: 20px;">05b - Demo Processing (11.1s)</h5>
        <p class="path">clips/05b-percentiles-processing.mp4</p>
        <div class="narration">The model writes Rust code to sort all values and index into the sorted list. Native execution handles two thousand numbers efficiently.</div>
        <p>Audio:</p>
        <audio controls><source src="audio/05b-percentiles-processing.wav" type="audio/wav"></audio>
        <p>Video with narration:</p>
        <video controls><source src="clips/05b-percentiles-processing.mp4" type="video/mp4"></video>

        <h5 style="color: #ff79c6; margin-top: 20px;">05c - Demo Results (16.1s)</h5>
        <p class="path">clips/05c-percentiles-results.mp4</p>
        <div class="narration">Results match the ground truth. P50 is 49 milliseconds, p95 is 296, p99 is 588. Completed in just two iterations with 68 percent token savings.</div>
        <p>Audio:</p>
        <audio controls><source src="audio/05c-percentiles-results.wav" type="audio/wav"></audio>
        <p>Video with narration:</p>
        <video controls><source src="clips/05c-percentiles-results.mp4" type="video/mp4"></video>

        <h5 style="color: #6272a4; margin-top: 20px;">Full Recording (reference)</h5>
        <p class="path">vhs/l3-percentiles.mp4 (86.52s)</p>
        <video controls style="max-width: 600px;"><source src="vhs/l3-percentiles.mp4" type="video/mp4"></video>
        <p class="path">173 stills extracted to vhs/percentiles-stills/</p>
    </div>

    <div class="segment">
        <h4>06-intro-viz - Visualizer Intro <span class="status pending">Pending</span></h4>
        <p class="path">clips/06-intro-viz.mp4</p>
        <p class="waiting">Waiting for SVG and narration...</p>
    </div>

    <div class="segment">
        <h4>07-demo-viz - Visualizer Demos <span class="status pending">Pending</span></h4>
        <p class="path">obs/visualizer/</p>
        <p class="waiting">Waiting for OBS recording...</p>
    </div>

    <div class="segment">
        <h4>08-comparison - L1 vs L2 vs L3 <span class="status pending">Pending</span></h4>
        <p class="path">clips/08-comparison.mp4</p>
        <p class="waiting">Waiting for SVG and narration...</p>
    </div>

    <div class="segment">
        <h4>99-cta - Call to Action <span class="status pending">Pending</span></h4>
        <p class="path">clips/99-cta-composited.mp4</p>
        <p class="waiting">Waiting for SVG and narration...</p>
    </div>

    <div class="segment">
        <h4>99b-epilog - Standard Epilog <span class="status done">12.80s</span></h4>
        <p class="path">clips/99b-epilog.mp4</p>
        <video controls><source src="clips/99b-epilog.mp4" type="video/mp4"></video>
        <div class="narration">Standard epilog with embedded narration</div>
    </div>

    <div class="segment">
        <h4>99c-epilog-ext - Music Outro <span class="status done">5.00s</span></h4>
        <p class="path">clips/99c-epilog-ext.mp4</p>
        <video controls><source src="clips/99c-epilog-ext.mp4" type="video/mp4"></video>
        <div class="narration music">Music: Two Gong Fire - Ryan McCaffrey / Go By Ocean (3s fade out)</div>
    </div>

    <script>
        const ts = Date.now();
        document.querySelectorAll('video source, audio source').forEach(source => {
            const src = source.getAttribute('src');
            if (src) {
                source.setAttribute('src', src.replace(/\?ts=\d+/, '') + '?ts=' + ts);
                source.parentElement.load();
            }
        });
        console.log('Preview page loaded with cache-bust ts=' + ts);
    </script>
</body>
</html>
